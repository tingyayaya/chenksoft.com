(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{161:function(e,a,t){e.exports=t.p+"images/errorimg.png"},162:function(e,a,t){e.exports=t.p+"images/file_loading.svg"},260:function(e,a){},291:function(e,a,t){"use strict";t.r(a);var n=t(2),s=t.n(n),i=t(3),l=t.n(i),r=t(4),c=t.n(r),o=t(5),m=t.n(o),u=t(6),d=t.n(u),h=t(0),p=t.n(h),g=(t(62),t(83)),v=t.n(g),f=function(e){function a(e){var t;return s()(this,a),(t=c()(this,m()(a).call(this))).state={tab:0},t}return d()(a,e),l()(a,[{key:"handleClickTab",value:function(e){this.setState({tab:e}),this.props.handleChangeTab&&this.props.handleChangeTab(e)}},{key:"render",value:function(){var e=this;return p.a.createElement("ul",{className:this.props.className},this.props.children.map(function(a,t){return p.a.createElement("li",{className:e.state.tab==t?a.props.className:"",key:t,onClick:e.handleClickTab.bind(e,t)},a.props.children)}))}}]),a}(h.Component),E=t(161),y=t.n(E),N=t(162),b=t.n(N),C=(t(260),function(e){function a(){var e;return s()(this,a),(e=c()(this,m()(a).call(this))).state={tab:0},e}return d()(a,e),l()(a,[{key:"handleChangeTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){return p.a.createElement("div",{className:"function-demo"},p.a.createElement("div",{className:"ai-module-header"},"功能演示"),p.a.createElement(f,{className:"ai-doule-tab",handleChangeTab:this.handleChangeTab.bind(this)},p.a.createElement("li",{className:"ai-doule-tab-item-active"},"通用识别"),p.a.createElement("li",{className:"ai-doule-tab-item-active"},"人脸识别")),p.a.createElement(k,{tab:this.state.tab}))}}]),a}(h.Component)),S={log_id:"38087904779944264593808790477994426459",words_result_num:3,words_result:[{words:"楼梯间"},{words:"STAIR ROOM"},{words:"K3-F3-B"}]};var k=function(e){function a(){var e;return s()(this,a),(e=c()(this,m()(a).call(this))).state={modules:"OCR",containerSize:{width:820,height:524},image:"",outputImgae:"",size:{width:"",height:""},errorText:"没有图片",imageSate:{error:!0,load:!1,scan:!1}},e}return d()(a,e),l()(a,[{key:"componentWillReceiveProps",value:function(e){0==e.tab?this.setState({modules:"OCR",image:"",outputImgae:"",error:"true"}):this.setState({image:"",modules:"FACE",outputImgae:"",imageSate:{error:"true"}})}},{key:"handleImageChange",value:function(e){var a=this,t=e.target.files[0],n=new FormData;n.append("file",t);var s=t.type.replace("image/",""),i=new FileReader;i.readAsDataURL(t),i.onload=function(e){var t=e.target.result;document.getElementById("formdata").value="",a.setState({image:t,imageSate:{scan:!0}})},"FACE"===this.state.modules?(n.append("fileName",s),this.handleFaceApi(n)):(n.append("fileName",s),this.handleOCRApi(n))}},{key:"handleFaceApi",value:function(e){var a=this;v.a.ajax({url:"http://47.111.95.189:800/",type:"post",data:e,cache:!1,contentType:!1,processData:!1,success:function(e){a.setState({outputImgae:e.data,imageSate:{scan:!1}})},error:function(e){}})}},{key:"handleOCRApi",value:function(e){var a=this;v.a.ajax({url:"http://chenk.hopto.org:808/",type:"post",data:e,cache:!1,async:!1,contentType:!1,processData:!1,success:function(e){a.setState({imageSate:{scan:!1}})},error:function(e){a.setState({imageSate:{scan:!1}})}})}},{key:"render",value:function(){var e,a=this.state.imageSate.load?"":"none",t=this.state.imageSate.error?"":"none",n=this.state.imageSate.scan?"":"none";return p.a.createElement("div",{className:"tech-recognition-content"},p.a.createElement("div",{className:"tech-recognition-scan",style:{display:"".concat(n)}}),p.a.createElement("div",{className:"tech-canvas-container"},p.a.createElement("div",{className:"demo-loading",style:{display:"".concat(a)}},p.a.createElement("img",{src:b.a,alt:"",className:"spin"}),p.a.createElement("p",null,"正在上传")),p.a.createElement("div",{className:"demo-data-error-msg",style:{display:"".concat(t)}},p.a.createElement("img",{src:y.a,alt:""}),p.a.createElement("p",null,this.state.errorText)),p.a.createElement("div",{style:{backgroundImage:"url(".concat(this.state.image,")")},className:"imageshow"}),p.a.createElement("div",null,this.state.size.width),p.a.createElement("div",{className:"image-input"},p.a.createElement("div",{className:"a-upload"},p.a.createElement("button",{type:"button",className:"btn btn-primary"},"选择文件"),p.a.createElement("input",{type:"file",accept:"image/*",className:"file",onChange:this.handleImageChange.bind(this),id:"formdata"})),p.a.createElement("div",{className:"image-notice"},"图片文件类型支持PNG、JPG、JPEG、BMP，图片大小不超过2M。"))),p.a.createElement("div",{className:"demo-json"},p.a.createElement("div",{className:"demo-collapse-item-title demo-json-title"},"识别结果"),"OCR"===this.state.modules?p.a.createElement("div",{className:"demo-json-content",dangerouslySetInnerHTML:{__html:(e=S,JSON.stringify(e,null,"\t").replace(/"(.*)":\s(.*)/g,'<span class="hljs-attr">"$1"</span>: <span class="hljs-string">$2</span>').replace(/,<\/span>/g,"</span>,").replace(/\[<\/span>/g,"</span>["))}}):p.a.createElement("img",{src:this.state.outputImgae,className:"face-img"})))}}]),a}(h.Component),w=C,T=function(e){function a(){return s()(this,a),c()(this,m()(a).apply(this,arguments))}return d()(a,e),l()(a,[{key:"render",value:function(){return p.a.createElement("div",null,p.a.createElement(w,null))}}]),a}(h.Component);a.default=T}}]);